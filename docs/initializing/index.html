<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv="X-UA-Compatible" content="chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<script src="/js/jquery-1.11.0.js"></script>
		<script src="/js/bootstrap.js"></script>
		
		<link rel='stylesheet' type='text/css' href='/stylesheets/bootstrap.css'>
		<link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
		<link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />
		<link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap-theme.css">
		<link rel="stylesheet" type="text/css" href="/stylesheets/font-awesome.css">
		<link rel="stylesheet" type="text/css" href="/stylesheets/spec.css">
		<link rel="stylesheet" type="text/css" href="/stylesheets/figures.css">
		
		<link rel='stylesheet' type='text/css' href='/stylesheets/ArchitectsDaughter.css'>
		<link rel='stylesheet' type='text/css' href='/stylesheets/Vollkorn.css'>
		<link rel='stylesheet' type='text/css' href='/stylesheets/Lobster.css'>
		<link rel='stylesheet' type='text/css' href='/stylesheets/OpenSans.css'>
		
		<link rel="alternate" type="application/rss+xml" title="Spec" href="/feed.xml"> 
		

		<!--[if lt IE 9]>
			<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
			<![endif]-->

	<title>Spec â€¢ A new Smalltalk framework</title>
	<head profile="http://www.w3.org/2005/10/profile">
		<link rel="icon" type="image/png" href="/favicon.png">
	</head>


<body>
  <a name="remove_me" class="hash">
<header>

  <nav class="navbar navbar-static-top" role="banner">
	<div class="container spec-container">

	  <div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1">
		  <span class="sr-only">Toggle navigation</span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		</button>
		<a href="/" class="navbar-brand">
		  <span class="title">Spec</span>
		  <img class="flake" src="/images/flake72.png" width="72" height="72" alt="">
		</a>
	  </div>

	  <div class="collapse navbar-collapse" id="bs-navbar-collapse-1">
		<ul class="nav navbar-nav">
		    <li class="">
	<a href="/" class="nav-a">Overview</a>
  </li>
  <li class="active">
	<a href="/docs/home" class="nav-a">Documentation</a>
  </li>
  <li class="">
	<a href="/news" class="nav-a">News</a>
  </li>
		</ul>

		<ul class="nav navbar nav-right">
		  <li>
			<a href="https://github.com/spec-framework" class="button"><small>Follow Spec on </small>GitHub</a>
		  </li>
		</ul>

	  </div>
	</div>
  </nav>

</header>


  <div id="content-wrapper">
	<div class="inner clearfix">
		<section id="main-content">
			<div>
				<article>
					<h1>Instantiating sub&nbsp;widgets</h1>
					<p>The method <code>initializeWidgets</code> is used to instantiate the different widgets that are part of the UI and store them in their respective instance variables.
The configuration and default values of each widget are specified here as well.
This focus in this method is to specify what the widgets will look like and what their self-contained behavior is.
The behavior to update model state, e.g. when pressing a <code>Save</code> button, is described in this method as well.
It is explicitly <strong>not</strong> the responsibility of this method to define the interactions <strong>between</strong> the widgets.</p>

<p>In general the <code>initializeWidgets</code> method should follow the pattern:</p>

<ul>
<li>widgets instantiation</li>
<li>widgets configuration specification</li>
<li>specification of order of focus</li>
</ul>

<p>The last step is not mandatory but <strong>highly</strong> recommended.
Indeed, without this final step keyboard navigation will not work at all.</p>

<p>The code in figure <em>pattern</em> shows an example of an <code>initializeWidgets</code> method.
It first instantiates a button and a list widget, storing each in an instance variable.
It second configures the button it by setting its label.
Third it specifies the focus order of all the widgets: first the button and then the list.</p>

<div class="highlight"><pre><code class="smalltalk"><span class="nf">initializeWidgets</span>

    <span class="nv">theButton</span> <span class="o">:=</span> <span class="bp">self</span> <span class="nf">newButton</span><span class="p">.</span>
    <span class="nv">theList</span> <span class="o">:=</span> <span class="bp">self</span> <span class="nf">newList</span><span class="p">.</span>

    <span class="nv">theButton</span> <span class="nf">label:</span> <span class="s">&#39;I am a button&#39;</span><span class="p">.</span>
    <span class="nv">theList</span> <span class="nf">items:</span> <span class="ss">#(</span><span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">8</span> <span class="m">9</span> <span class="m">0</span><span class="ss">)</span><span class="p">.</span>
    
    <span class="bp">self</span> <span class="nf">focusOrder</span>
        <span class="nf">add:</span> <span class="nv">theButton</span><span class="p">;</span>
        <span class="nf">add:</span> <span class="nv">theList</span><span class="p">.</span>
</code></pre></div>


<div class="alert alertbox">
    <span class="fa-stack fa-lg alert-icon">
      <i class="fa fa-exclamation-triangle fa-2x"></i>
    </span>
    <span class="alert-text"><p>Specifying this method is <strong>mandatory</strong>, as without it the UI would have no widgets</p>
</span>
</div>

<h4>Widget instantiation</h4>

<p>The instantiation of a widget can be done in two ways: through the use of an creation method or through the use of the <code>instantiate:</code> method.</p>

<p>Considering the first option, the framework provides unary messages for the creation of all basic widgets.
The format of these messages is <code>new[Widget]</code>, for example <code>newButton</code> creates a button widget, and <code>newList</code> creates a list widget, as we have seen above.
The complete list of available widget creation methods can be found in the class <strong>ComposableModel</strong> in the protocol <em>widgets</em>.</p>

<p>Considering the second option, to reuse any composite widgets, i.e. a subclass of <strong>ComposableModel</strong>, the widget needs to be initialized using the <code>instantiate:</code> method.
For example, to reuse a <strong>MessageBrowser</strong> widget, the code is <code>self instantiate: MessageBrowser</code>.</p>

<div class="alert hint">
    <span class="fa-stack fa-lg hint-icon">
      <i class="fa fa-square fa-stack-2x"></i>
      <i class="fa fa-info fa-stack-1x hint-overlay"></i>
    </span>
    <span class="hint-text"><p>Do not forger to generate the accessors for your instance variables.</p>
</span>
</div>

					<div class="section-nav">
	<div class="btn-group">
		<a class="btn btn-default nav-btn " href="/docs/installation/">Back
		</a>
		<a class="btn btn-default nav-btn " href="/docs/layout/">Next
		</a>
	</div>
	<div class="clear">
	</div>
</div>
					<footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p class="footer-text">
		  The contents of this website are &copy;&nbsp;2014 <a href="http://benjamin.vanryseghem.com">Benjamin Van Ryseghem</a><br/>
		  under the terms of the <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)</a>.
	  </p>
    </div>
  </div>
</footer>
				</article>
			</div>
		</section>
		<div id="commentWrapper">
	<div id="comment">
		<aside id="sidebar">
			
			<h4>Getting Started</h4>
			

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/home/">Welcome</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/quickstart/">Quick start</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/installation/">Installation</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/example/">Example</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>
			
			<h4>Your UI</h4>
			

<ul>

  

  
    
  

  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/starting/">Where to start?</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item current"><a href="/docs/initializing/">Instantiating sub&nbsp;widgets</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/layout/">Defining the layout</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/open/">Opening your UI</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/interactions/">Sub&nbsp;widgets interaction</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
      <li class="sidebar_item "><a href="/docs/dynamic/">Dynamic UI</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/use-pharo-window/">Using Pharo window</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/insert-morph/">Inserting a Morph</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>
			
			<h4>Inside Spec</h4>
			

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/api/">Where to find what I want</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/own-model/">Creating new basic widgets</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="sidebar_item "><a href="/docs/interpreter/">Spec Interpreter</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>
			
			<h4>More</h4>
			

<ul>

  

  
    
  

  
    
  
    
      <li class="sidebar_item "><a href="/docs/repositories/">Repositories</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>
			
		</aside>
	</div>
</div>

		<div class="clear"></div>
	</div>	  
</div>

<script>
$(function () {
	var currentHash = "remove_me";
	
	function changeHash(hash){
		var parent = $(".news_title");
		var elt = parent.find(".current");
		elt.removeClass('current');
		if(hash){
			var id = "";
			var iChars = "~`!#$%^&*+=-[]\\\';,/{}|\":<>?";
			for ( var i = 0; i < hash.length; i++ ){
				var each = hash.charAt(i);
				if ((each !== ' ') && (iChars.indexOf(each) === -1)){
					id += each;
				}
			};
			elt = parent.find("."+id);
			elt.addClass('current');
		}
	}
	
	$(window).on('hashchange', function() {
		changeHash(window.location.hash);
	});
	
	$(document).scroll(function (e) {
		$('.hash').each(function () {
			var top = window.pageYOffset;
			var distance = top - $(this).offset().top;
			var hash = $(this).attr('name');
			// 30 is an arbitrary padding choice, 
			// if you want a precise check then use distance===0
			if (distance < 30 && distance > -30 && ( currentHash != hash || (hash === "" && currentHash === "remove_me" ))) { 
				if(hash === "remove_me"){
					if(history.replaceState) {
						history.pushState('', document.title, window.location.pathname);
					    e.preventDefault();
					}
					else {
					    location.hash = "";
					}
				} else {
					if(history.replaceState) {
					    history.replaceState(null, null, '#'+hash);
					}
					else {
					    location.hash = hash;
					}
				}
				currentHash = hash;
				changeHash(hash);
			}
		});
	});
});
</script>

</body>
</html>